:root {
    /* Default (Dark) Theme */
    --bg-color: #0a0a0a;
    --text-color: #888;
    --text-highlight: #fff;
    --modal-bg: #1a1a1a;
    --modal-text: #fff;
    --ui-bg: rgba(255, 255, 255, 0.1);
}

[data-theme="light"] {
    --bg-color: #f4f4f4;
    --text-color: #666;
    --text-highlight: #000;
    --modal-bg: #fff;
    --modal-text: #333;
    --ui-bg: rgba(0, 0, 0, 0.05);
}

[data-theme="cyberpunk"] {
    --bg-color: #0d0221;
    --text-color: #00f0ff;
    --text-highlight: #ffe100;
    --modal-bg: #1a0b2e;
    --modal-text: #00f0ff;
    --ui-bg: rgba(0, 240, 255, 0.1);
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    background-color: var(--bg-color);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    transition: background-color 0.5s ease;
}

#app {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
}

/* Canvas Styling */
canvas {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
}

/* Header overlay on top of canvas (optional, or drawn on canvas) */
/* We will draw text ON the canvas for the wallpaper export, 
   but we can keep HTML header for web preview if desired.
   For now, hiding HTML header to rely on Canvas rendering for consistency. */
header {
    display: none;
}

/* Theme Selector UI */
#theme-controls {
    position: absolute;
    bottom: 2rem;
    display: flex;
    gap: 1rem;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    background: var(--ui-bg);
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 100;
}

body:hover #theme-controls {
    opacity: 1;
}

.theme-btn {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.2);
    cursor: pointer;
    transition: transform 0.2s, border-color 0.2s;
    background-size: cover;
    display: flex;
    justify-content: center;
    align-items: center;
    color: var(--text-highlight);
    font-size: 10px;
}

.theme-btn:hover {
    transform: scale(1.2);
    border-color: var(--text-highlight);
}

#help-btn {
    background-color: transparent;
    border: 1px solid var(--text-color);
    color: var(--text-color);
    font-weight: bold;
}

/* Modal Styles */
.modal {
    display: flex;
    position: fixed;
    z-index: 200;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    justify-content: center;
    align-items: center;
    opacity: 1;
    transition: opacity 0.3s;
}

.modal.hidden {
    opacity: 0;
    pointer-events: none;
}

.modal-content {
    background-color: var(--modal-bg);
    color: var(--modal-text);
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    max-width: 400px;
    width: 80%;
    position: relative;
    border: 1px solid var(--text-color);
}

.modal-content h2 {
    margin-bottom: 1rem;
    font-size: 1.2rem;
}

.modal-content ol {
    margin-left: 1.5rem;
    font-size: 0.9rem;
    line-height: 1.5;
    margin-bottom: 1rem;
}

.modal-content p {
    font-size: 0.9rem;
}

#close-modal {
    position: absolute;
    top: 0.5rem;
    right: 1rem;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--text-color);
}

@media (max-width: 480px) {
    #theme-controls {
        opacity: 0.3;
        bottom: 3rem;
    }
}